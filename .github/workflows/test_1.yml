name: Hola mundo

# Eventos, para que el workflow se ejecute tenemos que indicarle cuando se va a ejecutar cuando se realice un evento
# Se va a ejecutar cuando hagamos push al repositorio
on: 
  push: #esto es para cuando se haga push a main directamente se ejecute nuestro workflow
    branches: 
      - main

  pull_request:  #esto significa que se ejecutará cuando unicamente se haga un pull request a la rama main
    branches:
      - main

# los jobs nos permiten ejecutar todo lo que necesitemos dentro de algun servidor
jobs: 
  hola:
    runs-on: ubuntu-latest # para especificar que sistema operativo queiere ejecutar ese job, utilizaremos...

    steps: 
      - name: Hola mundo # lista de diferentes steps y debajo definimos la acción
        run: echo "Hola mundo" #directiva que nos permite correr un comando
 
      - name: touch file
        run: touch hola.txt

      - name: Set text
        run: echo "Hola mundo" >> hola.txt #tiene un texto y redirige la salida hacia el hola.txt

      - name: Read file
        run: cat hola.txt


  other:
    runs-on: ubuntu-latest
    needs: [hola] #esto hace que este job se ejecute justo después que  el de "hola"
    steps:

    - name: Checkout  #cuando se ejecute este job, va a comenzar, y lo primero que hará será utilizar este action que pertenece a guithub action, con el nombre checkpous y luego ejecutará el ls
      uses: action/checkout@v4.1.7

    - name: LS 
      run: ls -al   #nos lista directorios